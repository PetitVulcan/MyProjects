@using FicheRecette.Model;
@model List<Recette>;



<div class="Container Recette">
    <div class="Titre">
        <h2 class="col-lg-12">Liste des Recettes</h2>
    </div>


    @if (Model.Count == 0)
    {
        <div>
            Aucune recette dans la base de données ! ! !
        </div>
    }
    <div class="row filtre">
        <form asp-controller="Recette" asp-action="Index" method="get">
            <div class="col-lg-9">
                <select name="IdCategory" class="form-control">
                    <option></option>
                    @foreach (Category c in (ViewBag.categories as List<Category>))
                    {
                        <option value="@c.Id">@c.Titre</option>
                    }
                </select>
            </div>
            <div class="col-lg-3">
                <button type="submit" class="btn btn-default">Filtrer</button>
            </div>
        </form>
    </div>


    @foreach (Recette r in Model)
    {

        <div class="row RecetteLine">
            <div class="col-lg-2 centerimages">
                <div class="imgRecette">
                    <img src="~/@r.Images[0].Url" />
                </div>
            </div>
            <div class="col-lg-7">
                <div class="row">
                    <a asp-action="Detail" asp-controller="Recette" asp-route-id="@r.Id"> <div class="col-lg-12 titreRecette">@r.NomRecette</div></a>
                </div>
                <div class="row">
                    <div class="col-lg-12">Nombre de personne(s) : @r.NbPersonne</div>
                </div>
                <div class="row">
                    <div class="col-lg-12">Niveau de difficulté : @r.Difficulte</div>
                </div>
            </div>
            <div class="col-lg-3">
                <div class="row">
                    <div class="col-lg-12">Création : @r.NomUtilisateur</div>
                </div>
                <div class="row">
                    <div class="col-lg-12">@r.Date</div>
                </div>
                <div class="row">
                    <div class="col-lg-12">Catégorie : @r.NomCategory</div>
                </div>
            </div>
        </div>
    }
</div>